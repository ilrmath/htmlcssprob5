<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>HTMLï¼‹CSS æ“¬ä¼¼ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆå‹•ç‰©ç´¹ä»‹ç‰ˆï¼‰</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: sans-serif; }
    body { display: flex; height: 100vh; }
    #preview-area { width: 50%; border-right: 1px solid #ccc; overflow-y: auto; display: flex; flex-direction: column; }
    #preview-wrapper { flex-grow: 1; display: flex; flex-direction: column; }
    #preview-label { background-color: #ddd; padding: 8px 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
    #preview-label label { display: flex; align-items: center; gap: 6px; font-size: 14px; }
    #preview { flex-grow: 1; padding: 20px; background-color: #f0f0f0; }
    .editor-area { width: 50%; display: flex; flex-direction: column; overflow-y: auto; transition: width 0.3s ease; height: 100vh; }
    .label { background-color: #ddd; padding: 8px 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
    .toggle-buttons { display: flex; gap: 12px; }
    .toggle-buttons label { display: flex; align-items: center; gap: 4px; cursor: pointer; font-size: 14px; }
    .editor-row { display: flex; border-bottom: 1px solid #ccc; transition: height 0.3s ease; flex-grow: 1; }
    .collapsed { height: 0 !important; overflow: hidden !important; padding: 0 !important; border: none !important; }
    .example, .input { flex: 1; display: flex; flex-direction: column; }
    .editor-wrapper { display: flex; flex: 1; overflow: auto; }
    .line-numbers { background-color: #eee; color: #666; padding: 10px 5px; text-align: right; user-select: none; font-family: monospace; font-size: 15px; line-height: 1.5em; white-space: pre; width: 40px; flex-shrink: 0; }
    pre { margin: 0; padding: 10px; background-color: #fafafa; font-family: monospace; font-size: 15px; line-height: 1.5em; overflow: auto; white-space: pre; height: 100%; display: block; flex: 1; overflow-x: auto; }
    textarea { width: 100%; height: 100%; padding: 10px; font-family: monospace; font-size: 15px; border: none; outline: none; resize: none; line-height: 1.5em; overflow: auto; white-space: pre; overflow-x: auto; }
    .hidden { display: none !important; }
    .html-css-label { min-height: 2.5em; }
    .flash { animation: flash-bg 0.3s ease; }
    @keyframes flash-bg { 0% { background-color: #fff8a5; } 100% { background-color: white; } }
  </style>
</head>
<body>
<div id="preview-area">
  <div id="preview-label">
    <label><input type="checkbox" id="previewToggle" checked onchange="togglePreview()"> ğŸ“„ è¡¨ç¤º</label>
  </div>
  <div id="preview-wrapper"><div id="preview"></div></div>
</div>

<div class="editor-area">
  <div class="editor-content">

    <!-- HTMLã‚¨ãƒªã‚¢ -->
    <div class="label html-css-label">
      ğŸ“ HTMLã‚¨ãƒªã‚¢
      <div class="toggle-buttons">
        <label id="showPreviewFallback" class="hidden"><input type="checkbox" onchange="restorePreview()"> è¡¨ç¤º</label>
        <label><input type="checkbox" onchange="copyExampleToInput('html')"> ã‚³ãƒ”ãƒ¼</label>
        <label><input type="checkbox" onchange="toggleBlockByCheckbox(this, 'html', 'Example')"> æ‰‹æœ¬</label>
        <label><input type="checkbox" checked onchange="toggleBlockByCheckbox(this, 'html', 'InputContainer')"> å…¥åŠ›</label>
      </div>
    </div>

    <div class="editor-row" id="htmlRow">
      <div class="example hidden" id="htmlExample">
        <div class="editor-wrapper">
          <div class="line-numbers" id="htmlExampleLines"></div>
          <pre>&lt;header&gt;&lt;!-- headerã¯å†’é ­ã®ã‹ãŸã¾ã‚Šéƒ¨åˆ†ã®ã“ã¨ --&gt;
  &lt;h1&gt;å‹•ç‰©ç´¹ä»‹&lt;/h1&gt;
  &lt;p&gt;ãŸãã•ã‚“ã®å¯æ„›ã„å‹•ç‰©ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
  &lt;br&gt;ã©ã†ãã”ã‚‰ã‚“ãã ã•ã„ã€‚&lt;/p&gt;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/CKIPz9QOBSA" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;
&lt;/header&gt;

&lt;nav&gt;&lt;!-- navã¯å†’é ­ã«è¡¨ç¤ºã™ã‚‹ç›®æ¬¡ã®ã‹ãŸã¾ã‚Š.ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ --&gt;
  &lt;a href="https://search.yahoo.co.jp/search?p=ã‚¤ãƒŒ"&gt;ã‚¤ãƒŒ&lt;/a&gt;
  &lt;a href="https://search.yahoo.co.jp/search?p=ãƒã‚³"&gt;ãƒã‚³&lt;/a&gt;
&lt;/nav&gt;

&lt;section&gt;
  &lt;h2&gt;è±šå°å±‹&lt;/h2&gt;
  &lt;p&gt;ğŸ†ğŸ–â™ªã€œğŸ–ã€œğŸ–ã€œğŸ–ã€œğŸ–ã€œ&lt;/p&gt;
&lt;/section&gt;

&lt;section id="dog"&gt;
  &lt;h2&gt;çŠ¬å°å±‹&lt;/h2&gt;
  &lt;p&gt;ğŸ–ğŸ¦®â™ªã€œğŸ•â€ğŸ¦ºã€œã‚ã‚“ï¼ã€œğŸ©ã€œ&lt;/p&gt;
&lt;/section&gt;

&lt;section id="cat"&gt;
  &lt;h2&gt;ã­ã“å°å±‹&lt;/h2&gt;
  &lt;p&gt;ğŸ¡ğŸˆâ™ªã€œğŸˆâ€â¬›ã€œã€œ&lt;/p&gt;
&lt;/section&gt;</pre>
        </div>
      </div>

      <div class="input" id="htmlInputContainer">
        <div class="editor-wrapper">
          <div class="line-numbers" id="htmlLines"></div>
          <textarea id="htmlInput" placeholder="ã“ã“ã«HTMLã‚’æ›¸ã„ã¦ãã ã•ã„"></textarea>
        </div>
      </div>
    </div>

    <!-- CSSã‚¨ãƒªã‚¢ -->
    <div class="label html-css-label">
      ğŸ¨ CSSã‚¨ãƒªã‚¢
      <div class="toggle-buttons">
        <label><input type="checkbox" onchange="copyExampleToInput('css')"> ã‚³ãƒ”ãƒ¼</label>
        <label><input type="checkbox" onchange="toggleBlockByCheckbox(this, 'css', 'Example')"> æ‰‹æœ¬</label>
        <label><input type="checkbox" checked onchange="toggleBlockByCheckbox(this, 'css', 'InputContainer')"> å…¥åŠ›</label>
      </div>
    </div>

    <div class="editor-row" id="cssRow">
      <div class="example hidden" id="cssExample">
        <div class="editor-wrapper">
          <div class="line-numbers" id="cssExampleLines"></div>
          <pre>h1{
 color:blue;
 background-color:yellow;
 text-align:center;
}

header{
 border-style:solid;
 padding:10px;
 margin:10px;
}

h2{
 text-align:center;
}

section{
 border-style:solid;
 padding:10px;
 margin:10px;
 width:300px;  
}

#dog{
 color:red;
}

#cat{
 color:blue;
}</pre>
        </div>
      </div>

      <div class="input" id="cssInputContainer">
        <div class="editor-wrapper">
          <div class="line-numbers" id="cssLines"></div>
          <textarea id="cssInput" placeholder="ã“ã“ã«CSSã‚’æ›¸ã„ã¦ãã ã•ã„"></textarea>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
// â–¼ æ‰‹æœ¬ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ â–¼
function copyExampleToInput(type) {
  const examplePre = document.querySelector(`#${type}Example pre`);
  const inputArea = document.getElementById(`${type}Input`);
  const lineBox = document.getElementById(`${type}Lines`);
  const checkbox = event.target;
  if (!examplePre || !inputArea) return;
  inputArea.value = examplePre.textContent;
  updateLineNumbers(inputArea, lineBox);
  updatePreview();
  inputArea.classList.add('flash');
  setTimeout(() => inputArea.classList.remove('flash'), 300);
  setTimeout(() => { checkbox.checked = false; }, 100);
}

// â–¼ å…¥åŠ›æ¬„ã®æ‰‹æœ¬/å…¥åŠ›åˆ‡ã‚Šæ›¿ãˆ â–¼
function toggleBlockByCheckbox(checkbox, section, target) {
  const targetId = section + target;
  const rowId = section + 'Row';
  const block = document.getElementById(targetId);
  if (checkbox.checked) block.classList.remove('hidden');
  else block.classList.add('hidden');
  const bothHidden = [
    document.getElementById(section + 'Example'),
    document.getElementById(section + 'InputContainer')
  ].every(el => el.classList.contains('hidden'));
  document.getElementById(rowId).classList.toggle('collapsed', bothHidden);
}

// â–¼ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆ â–¼
function togglePreview() {
  const isChecked = document.getElementById('previewToggle').checked;
  const previewArea = document.getElementById('preview-area');
  const editorArea = document.querySelector('.editor-area');
  const fallback = document.getElementById('showPreviewFallback');
  if (isChecked) {
    previewArea.classList.remove('hidden');
    editorArea.style.width = '50%';
    fallback.classList.add('hidden');
  } else {
    previewArea.classList.add('hidden');
    editorArea.style.width = '100%';
    fallback.classList.remove('hidden');
  }
}
function restorePreview() {
  document.getElementById('previewToggle').checked = true;
  togglePreview();
}

// â–¼ è¡Œç•ªå·ã®æ›´æ–° â–¼
function updateLineNumbers(textarea, lineBox) {
  const lines = textarea.value.split('\n').length;
  lineBox.innerHTML = Array.from({ length: lines }, (_, i) => `${i + 1})`).join('\n');
}
function updateExampleLineNumbers(pre, lineBox) {
  const lines = pre.textContent.split('\n').length;
  lineBox.innerHTML = Array.from({ length: lines }, (_, i) => `${i + 1})`).join('\n');
}

// â–¼ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–° â–¼
function updatePreview() {
  const html = htmlInput.value.trim();
  const css = `<style>${cssInput.value}</style>`;
  preview.innerHTML = html ? css + html : "";
  preview.querySelectorAll('a').forEach(a => a.setAttribute('target', '_blank'));
}

// â–¼ å…¥åŠ›æ¬„ã®ç›£è¦–ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ² â–¼
const htmlInput = document.getElementById('htmlInput');
const cssInput = document.getElementById('cssInput');
const htmlLines = document.getElementById('htmlLines');
const cssLines = document.getElementById('cssLines');
const preview = document.getElementById('preview');

htmlInput.addEventListener('input', () => { updatePreview(); updateLineNumbers(htmlInput, htmlLines); });
cssInput.addEventListener('input', () => { updatePreview(); updateLineNumbers(cssInput, cssLines); });

// â–¼ åˆå›èµ·å‹•å‡¦ç† â–¼
window.addEventListener('load', () => {
  updatePreview();
  updateLineNumbers(htmlInput, htmlLines);
  updateLineNumbers(cssInput, cssLines);
  updateExampleLineNumbers(document.querySelector('#htmlExample pre'), document.getElementById('htmlExampleLines'));
  updateExampleLineNumbers(document.querySelector('#cssExample pre'), document.getElementById('cssExampleLines'));
});
</script>

</body>
</html>
